(self.webpackChunkfast_paced_networking_demo=self.webpackChunkfast_paced_networking_demo||[]).push([[179],{192:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>o});var r=t(645),i=t.n(r)()(!0);i.push([e.id,'input:focus{outline:none}html{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;-moz-box-sizing:inherit;box-sizing:inherit}body{margin:0;padding:0;color:#000;width:100%;height:100%;overflow:hidden;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}#root{position:absolute;width:100%;height:100%;background:#141414;gap:4px;display:grid;place-items:center}.pane{background-color:#fff;overflow:hidden;border-radius:4px;position:relative;width:640px;height:480px}.pane .label{position:absolute;width:100%;background-color:rgba(221,221,221,.801);padding:8px}.pane .entity{position:absolute;top:0;left:0;width:20px;height:20px;border-radius:10px;background-color:#000;transform-box:content-box}.pane .entity.ghost{opacity:.3}',"",{version:3,sources:["webpack://src/style.scss"],names:[],mappings:"AAWI,YACI,YAAA,CAKR,KACI,6BAAA,CACA,0BAAA,CACA,qBAAA,CAGJ,mBACI,0BAAA,CACA,uBAAA,CACA,kBAAA,CAGJ,KACI,QAAA,CACA,SAAA,CACA,UAAA,CAEA,UAAA,CACA,WAAA,CAEA,eAAA,CAEA,gJAAA,CAGJ,MACI,iBAAA,CACA,UAAA,CACA,WAAA,CAEA,kBAAA,CAEA,OAAA,CAEA,YAAA,CACA,kBAAA,CAGJ,MACI,qBAAA,CACA,eAAA,CAEA,iBAAA,CACA,iBAAA,CACA,WAAA,CACA,YAAA,CAEA,aACI,iBAAA,CACA,UAAA,CACA,uCAAA,CACA,WAAA,CAGJ,cACI,iBAAA,CAEA,KAAA,CACA,MAAA,CAIA,UAFK,CAGL,WAHK,CAIL,kBAAA,CAEA,qBAAA,CAEA,yBAAA,CAEA,oBACI,UAAA",sourcesContent:['%no-select {\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Edge, Opera and Firefox */\r\n}\r\n\r\ninput {\r\n    &:focus {\r\n        outline: none;\r\n    }\r\n}\r\n\r\n// Box-sizing model\r\nhtml {\r\n    -webkit-box-sizing: border-box;\r\n    -moz-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n}\r\n\r\n*, *:before, *:after {\r\n    -webkit-box-sizing: inherit;\r\n    -moz-box-sizing: inherit;\r\n    box-sizing: inherit;\r\n}\r\n\r\nbody {\r\n    margin: 0;\r\n    padding: 0;\r\n    color: black;\r\n\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    overflow: hidden;\r\n\r\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\r\n}\r\n\r\n#root {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    background: rgb(20, 20, 20);\r\n\r\n    gap: 4px;\r\n\r\n    display: grid;\r\n    place-items: center;\r\n}\r\n\r\n.pane {\r\n    background-color: white;\r\n    overflow: hidden;\r\n\r\n    border-radius: 4px;\r\n    position: relative;\r\n    width: 640px;\r\n    height: 480px;\r\n\r\n    .label {\r\n        position: absolute;\r\n        width: 100%;\r\n        background-color: rgba(221, 221, 221, 0.801);\r\n        padding: 8px;\r\n    }\r\n\r\n    .entity {\r\n        position: absolute;\r\n\r\n        top: 0;\r\n        left: 0;\r\n\r\n        $sz: 20px;\r\n\r\n        width: $sz;\r\n        height: $sz;\r\n        border-radius: $sz / 2;\r\n\r\n        background-color: black;\r\n\r\n        transform-box: content-box;\r\n\r\n        &.ghost {\r\n            opacity: 0.3;\r\n        }\r\n    }\r\n}'],sourceRoot:""}]);const o=i},404:(e,n,t)=>{var r=t(379),i=t(192);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},536:(e,n,t)=>{"use strict";t(404);var r=t(486);function i(e,n,t){return e+(n-e)*t}var o={server:{tick:0,tickDuration:.05,tickAccumulator:0,game:{entities:[]}},client:{game:{entities:[]},net:{sim:{latency:60,jitter:20,packetLoss:.1,inFlightMessages:[]},lastReceivedTick:0,backBuffer:[],interpolationDelay:10},tick:0,tickDuration:.05,tickAccumulator:0,prevNetState:null,nextNetState:null}};function a(e){o.server.game.entities.forEach((function(n){Math.random()<.05&&(n.angularVelocity=2*Math.random()-1),n.angle+=n.angularVelocity*e;var t={x:Math.cos(n.angle)*n.speed,y:Math.sin(n.angle)*n.speed};n.position.x+=t.x*e,n.position.y+=t.y*e,n.position.x>1?(n.position.x=1,t.x=-Math.abs(t.x)):n.position.x<0&&(n.position.x=0,t.x=Math.abs(t.x)),n.position.y>1?(n.position.y=1,t.y=-Math.abs(t.y)):n.position.y<0&&(n.position.y=0,t.y=Math.abs(t.y)),n.angle=Math.atan2(t.y,t.x),n.angle<0&&(n.angle+=2*Math.PI)})),o.server.tick++}window.app=o;var s=0;window.addEventListener("load",(function(){!function(){for(var e=0;e<2;++e)for(var n=0;n<2;++n){var t={position:{x:.5,y:.5},speed:0,angle:0,angularVelocity:0,htmlElement:null};0===e?(t.position={x:Math.random(),y:Math.random()},t.speed=.2*Math.random()+.1,t.angle=2*Math.random()*Math.PI,o.server.game.entities.push(t)):o.client.game.entities.push(t)}}(),function(){var e=document.createElement("div");e.className="pane";for(var n=0;n<2;++n)for(var t=0;t<2;++t){var r=document.createElement("div");r.className="entity",0===t&&(r.className+=" ghost");var i=void 0;switch(n%4){case 0:i="red";break;case 1:i="green";break;case 2:i="blue";break;case 3:i="orange";break;default:i="black"}switch(r.style.backgroundColor=i,t){case 0:o.server.game.entities[n].htmlElement=r;break;case 1:o.client.game.entities[n].htmlElement=r}e.append(r)}document.getElementById("root").append(e)}(),requestAnimationFrame((function e(n){(function(e){var n=(e-s)/1e3;s=e,o.server.tickAccumulator+=n;for(var t,A=!1;o.server.tickAccumulator>o.server.tickDuration;)o.server.tickAccumulator-=o.server.tickDuration,a(o.server.tickDuration),A=!0;A&&(t={tick:o.server.tick,entityPositions:o.server.game.entities.map((function(e){return e.position}))},[o.client].forEach((function(e){if(!(Math.random()<e.net.sim.packetLoss)){var n=e.net.sim.latency,i=(2*Math.random()-1)*e.net.sim.jitter,o={message:(0,r.cloneDeep)(t),timeRemaining:(n/2+i)/1e3};e.net.sim.inFlightMessages.push(o)}}))),[o.client].forEach((function(e){for(e.net.sim.inFlightMessages=e.net.sim.inFlightMessages.filter((function(t){return t.timeRemaining-=n,!(t.timeRemaining<=0&&(function(e,n){n.tick<e.net.lastReceivedTick||(e.net.lastReceivedTick=n.tick,e.net.backBuffer.push((0,r.cloneDeep)(n)))}(e,t.message),1))})),e.tickAccumulator+=n;e.tickAccumulator>e.tickDuration;)e.tickAccumulator-=e.tickDuration,e.tick++;if(e.net.backBuffer.length>0){var t=e.net.backBuffer[e.net.backBuffer.length-1];t.tick<e.tick&&(e.tick=t.tick,e.tickAccumulator=0)}var o=e.tick+e.tickAccumulator/e.tickDuration-e.net.interpolationDelay,a=e.net.backBuffer.findIndex((function(e){return e.tick>o}));if(e.prevNetState=a>0?e.net.backBuffer[a-1]:null,e.nextNetState=e.net.backBuffer[a],e.net.backBuffer.splice(0,a-1),null!==e.nextNetState&&null!==e.prevNetState){var s=o,A=e.prevNetState.tick,c=e.nextNetState.tick,l=1-(c-s)/(c-A);e.game.entities.forEach((function(n,t){var r=e.prevNetState.entityPositions[t],o=e.nextNetState.entityPositions[t],a={x:i(r.x,o.x,l),y:i(r.y,o.y,l)};n.position=a}))}})),[o.client.game,o.server.game].forEach((function(e){for(var n=0;n<2;++n){var t=e.entities[n],r=t.htmlElement;if(null!==r){var i=r.parentElement.clientWidth,o=r.parentElement.clientHeight;r.style.transform="translateX("+t.position.x*(i-20)+"px)\n                                            translateY("+t.position.y*(o-20)+"px)"}}}))})(n),window.requestAnimationFrame(e)}))}))}},0,[[536,666,216]]]);
//# sourceMappingURL=main.37104407c8c6b74a53aa.js.map