(self.webpackChunkfast_paced_networking_demo=self.webpackChunkfast_paced_networking_demo||[]).push([[179],{192:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>o});var i=t(645),r=t.n(i)()(!0);r.push([e.id,'input:focus{outline:none}html{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;-moz-box-sizing:inherit;box-sizing:inherit}body{margin:0;padding:0;color:#000;width:100%;height:100%;overflow:hidden;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}#root{position:absolute;width:100%;height:100%;background:#141414;gap:4px;display:grid;place-items:center}.pane{background-color:#fff;overflow:hidden;border-radius:4px;position:relative;width:640px;height:480px;box-shadow:0 0 10px 0 rgba(0,0,0,.3)}.pane .label{position:absolute;width:100%;background-color:rgba(221,221,221,.801);padding:8px}.pane .entity{position:absolute;top:0;left:0;width:20px;height:20px;border-radius:10px;background-color:#000;transform-box:content-box}.pane .entity.ghost{opacity:.3}',"",{version:3,sources:["webpack://src/style.scss"],names:[],mappings:"AAWI,YACI,YAAA,CAKR,KACI,6BAAA,CACA,0BAAA,CACA,qBAAA,CAGJ,mBACI,0BAAA,CACA,uBAAA,CACA,kBAAA,CAGJ,KACI,QAAA,CACA,SAAA,CACA,UAAA,CAEA,UAAA,CACA,WAAA,CAEA,eAAA,CAEA,gJAAA,CAGJ,MACI,iBAAA,CACA,UAAA,CACA,WAAA,CAEA,kBAAA,CAEA,OAAA,CAEA,YAAA,CACA,kBAAA,CAGJ,MACI,qBAAA,CACA,eAAA,CAEA,iBAAA,CACA,iBAAA,CACA,WAAA,CACA,YAAA,CAEA,oCAAA,CAEA,aACI,iBAAA,CACA,UAAA,CACA,uCAAA,CACA,WAAA,CAGJ,cACI,iBAAA,CAEA,KAAA,CACA,MAAA,CAIA,UAFK,CAGL,WAHK,CAIL,kBAAA,CAEA,qBAAA,CAEA,yBAAA,CAEA,oBACI,UAAA",sourcesContent:['%no-select {\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n     -khtml-user-select: none; /* Konqueror HTML */\r\n       -moz-user-select: none; /* Old versions of Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n            user-select: none; /* Non-prefixed version, currently\r\n                                  supported by Chrome, Edge, Opera and Firefox */\r\n}\r\n\r\ninput {\r\n    &:focus {\r\n        outline: none;\r\n    }\r\n}\r\n\r\n// Box-sizing model\r\nhtml {\r\n    -webkit-box-sizing: border-box;\r\n    -moz-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n}\r\n\r\n*, *:before, *:after {\r\n    -webkit-box-sizing: inherit;\r\n    -moz-box-sizing: inherit;\r\n    box-sizing: inherit;\r\n}\r\n\r\nbody {\r\n    margin: 0;\r\n    padding: 0;\r\n    color: black;\r\n\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    overflow: hidden;\r\n\r\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\r\n}\r\n\r\n#root {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    background: rgb(20, 20, 20);\r\n\r\n    gap: 4px;\r\n\r\n    display: grid;\r\n    place-items: center;\r\n}\r\n\r\n.pane {\r\n    background-color: white;\r\n    overflow: hidden;\r\n\r\n    border-radius: 4px;\r\n    position: relative;\r\n    width: 640px;\r\n    height: 480px;\r\n\r\n    box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.3);\r\n\r\n    .label {\r\n        position: absolute;\r\n        width: 100%;\r\n        background-color: rgba(221, 221, 221, 0.801);\r\n        padding: 8px;\r\n    }\r\n\r\n    .entity {\r\n        position: absolute;\r\n\r\n        top: 0;\r\n        left: 0;\r\n\r\n        $sz: 20px;\r\n\r\n        width: $sz;\r\n        height: $sz;\r\n        border-radius: $sz / 2;\r\n\r\n        background-color: black;\r\n\r\n        transform-box: content-box;\r\n\r\n        &.ghost {\r\n            opacity: 0.3;\r\n        }\r\n    }\r\n}'],sourceRoot:""}]);const o=r},404:(e,n,t)=>{var i=t(379),r=t(192);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.id,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},536:(e,n,t)=>{"use strict";t(404);var i=t(486);function r(e,n,t){return e+(n-e)*t}var o={server:{tick:0,tickDuration:.05,tickAccumulator:0,game:{entities:[]}},client:{game:{entities:[]},net:{sim:{latency:120,jitter:20,packetLoss:.05,inFlightMessages:[]},lastReceivedTick:0,backBuffer:[],interpolationDelay:4},tick:0,tickDuration:.05,tickAccumulator:0,prevNetState:null,nextNetState:null,display:{entityHtmlElements:[]}}};function a(e){o.server.game.entities.forEach((function(n,t){Math.random()<.05&&(n.angularVelocity=2*Math.random()-1),n.angle+=n.angularVelocity*e;var i={x:Math.cos(n.angle)*n.speed,y:Math.sin(n.angle)*n.speed};n.position.x+=i.x*e,n.position.y+=i.y*e,n.position.x>1?(n.position.x=1,i.x=-Math.abs(i.x)):n.position.x<0&&(n.position.x=0,i.x=Math.abs(i.x)),n.position.y>1?(n.position.y=1,i.y=-Math.abs(i.y)):n.position.y<0&&(n.position.y=0,i.y=Math.abs(i.y)),n.angle=Math.atan2(i.y,i.x),n.angle<0&&(n.angle+=2*Math.PI),s(o.client.display.entityHtmlElements[t][0],n.position.x,n.position.y)})),o.server.tick++}function s(e,n,t){var i=e.parentElement.clientWidth,r=e.parentElement.clientHeight;e.style.transform="translateX("+n*(i-20)+"px)\n                          translateY("+t*(r-20)+"px)"}window.app=o;var A=0;window.addEventListener("load",(function(){!function(){for(var e=0;e<2;++e)for(var n=0;n<4;++n){var t={position:{x:.5,y:.5},speed:0,angle:0,angularVelocity:0};0===e?(t.position={x:Math.random(),y:Math.random()},t.speed=.2*Math.random()+.1,t.angle=2*Math.random()*Math.PI,o.server.game.entities.push(t)):o.client.game.entities.push(t)}}(),function(){var e=document.createElement("div");e.className="pane";for(var n=0;n<4;++n){for(var t=[],i=0;i<3;++i){var r=document.createElement("div");r.className="entity",2!==i&&(r.className+=" ghost");var a=void 0;switch(n%4){case 0:a="red";break;case 1:a="green";break;case 2:a="blue";break;case 3:a="orange";break;default:a="black"}r.style.backgroundColor=a,t[i]=r,e.append(r)}o.client.display.entityHtmlElements.push(t)}document.getElementById("root").append(e)}(),requestAnimationFrame((function e(n){(function(e){var n=(e-A)/1e3;A=e,o.server.tickAccumulator+=n;for(var t,c=!1;o.server.tickAccumulator>o.server.tickDuration;)o.server.tickAccumulator-=o.server.tickDuration,a(o.server.tickDuration),c=!0;c&&(t={tick:o.server.tick,entityPositions:o.server.game.entities.map((function(e){return e.position}))},[o.client].forEach((function(e){if(!(Math.random()<e.net.sim.packetLoss)){var n=e.net.sim.latency,r=(2*Math.random()-1)*e.net.sim.jitter,o={message:(0,i.cloneDeep)(t),timeRemaining:(n/2+r)/1e3};e.net.sim.inFlightMessages.push(o)}}))),[o.client].forEach((function(e){for(e.net.sim.inFlightMessages=e.net.sim.inFlightMessages.filter((function(t){return t.timeRemaining-=n,!(t.timeRemaining<=0&&(function(e,n){n.tick<e.net.lastReceivedTick||(e.net.lastReceivedTick=n.tick,e.net.backBuffer.push((0,i.cloneDeep)(n)),n.entityPositions.forEach((function(n,t){s(e.display.entityHtmlElements[t][1],n.x,n.y)})))}(e,t.message),1))})),e.tickAccumulator+=n;e.tickAccumulator>e.tickDuration;)e.tickAccumulator-=e.tickDuration,e.tick++;if(e.net.backBuffer.length>0){var t=e.net.backBuffer[e.net.backBuffer.length-1];t.tick<e.tick&&(e.tick=t.tick,e.tickAccumulator=0)}var o=e.tick+e.tickAccumulator/e.tickDuration-e.net.interpolationDelay,a=e.net.backBuffer.findIndex((function(e){return e.tick>o}));if(e.prevNetState=a>0?e.net.backBuffer[a-1]:null,e.nextNetState=e.net.backBuffer[a],e.net.backBuffer.splice(0,a-1),null!==e.nextNetState&&null!==e.prevNetState){var A=o,c=e.prevNetState.tick,l=e.nextNetState.tick,u=1-(l-A)/(l-c);e.game.entities.forEach((function(n,t){var i=e.prevNetState.entityPositions[t],o=e.nextNetState.entityPositions[t],a={x:r(i.x,o.x,u),y:r(i.y,o.y,u)};n.position=a}))}}));for(var l=0;l<4;++l){var u=o.client.game.entities[l];s(o.client.display.entityHtmlElements[l][2],u.position.x,u.position.y)}})(n),window.requestAnimationFrame(e)}))}))}},0,[[536,666,216]]]);
//# sourceMappingURL=main.9703b68b248141f933ea.js.map